---
title: "Untitled"
output: github_document
---
Preparation
```{r}
library(dplyr)
library(ggplot2)
```
# Artificial Intelligence and Energy

Before we begin, we need to import the relevant datasets, here is one for the energy consumption:
```{r}
energy <- read.csv("energy_data.csv")
energy <- energy %>% select(!contains(c("change", "share", "per_capita"), ignore.case = FALSE)) %>% filter(iso_code != "")
head(energy)
```

...and here is one for AI patents (which we use as a proxy of how AI-intensive a country is):

```{r}
patent <- read.csv("ai_patents.csv")
patent <- patent %>% rename(patent_count = Patent.applications...Field..All)
head(patent)
```

Obviously, we need to merge them in some way. This is what we have done.

```{r}
energy <- energy %>% group_by(country, year) %>% mutate(combinekey = paste(iso_code,toString(year)))
patent <- patent %>% group_by(Code, Year) %>% mutate(combinekey = paste(Code,toString(Year)))
combine <- inner_join(patent, energy, by = c("combinekey")) %>% select(-Year, -iso_code, -country, -combinekey)
head(combine)
```

In summary, what we have done is as follows:
- Only considered countries with an ISO code (meaning no regionals)
- Merged the data between the energy consumption and the patent data for each country and each year

Of course, we can do further consolidation as we go along.

**A warning about our observations**

Like many real-world data, we ARE looking at an unbalanced dataset.

```{r}
combine %>% group_by(Code) %>% count(Code)
combine %>% group_by(Year) %>% count(Year)
```

So what now?

BLAH BLAH BLAH

# Our Hypotheses

In total, we have three hypotheses to test out, as taken from the perception of the general public.

## Is it really true that having more AI use will lead to more reusable energy???

Ah yes, AI is technically an energy guzzler, all using up large amount of energy...

REMINDER: This is an example analysis!!! Change if you need be!!!

This also takes into account the fixed effects associated with country!!! Year is also included as a factor!!!
```{r}
lm1 <- lm(patent_count ~ net_elec_imports + renewables_electricity + population + gdp + factor(year) + factor(Entity), combine)
summary(lm1)
```

We then choose to plot something...

## OK, does XXX renewable matter more?

```{r}
lm2 <- lm(patent_count ~ hydro_electricity + nuclear_electricity + other_renewable_electricity + solar_electricity + wind_electricity + net_elec_imports + population + gdp + factor(year) + factor(Entity), data = combine)
summary(lm2)
```